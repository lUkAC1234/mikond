{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="#">
    <meta property="og:description" content="#">
    <meta property="og:image" content="{% static 'main/images/main-page/logo.png' %}">
    <meta name="keywords" content="#">
    <link rel="shortcut icon" href="{% static 'main/images/main-page/logo.png' %}" type="image/png" />
    <link rel="icon" href="{% static 'main/images/main-page/logo.png' %}" type="image/png">
    <link href="{% static 'fontawesomefree/css/all.min.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'main/scripts/js/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="{% static 'main/styles/scss/global.css' %}">

    <!-- Animation -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.4.0/animate.min.css">
    <!-- Animation End -->

    {% block title %}{% endblock %}
</head>

<body>

    {% include 'layouts/header.html' %}

    {% block content %}

    {% endblock %}

    {% include 'layouts/footer.html' %}

    {# ------------------------------------------------------------------------------------------- #}
    {# Scripts #}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" charset="utf-8"></script>
    <script src="{% static 'main/scripts/js/owlcarousel/owl.carousel.min.js' %}"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const header = document.getElementById('main-header');
            const burger = document.getElementById('header-burger');
            const headerLinksContainer = document.getElementById('header-links-container');

            // Добавление класса 'scrolled' при прокрутке страницы
            window.addEventListener('scroll', function () {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // Добавление/удаление класса 'active' при клике на бургер
            burger.addEventListener('click', function () {
                headerLinksContainer.classList.toggle('active');
                if (headerLinksContainer.classList.contains('active')) {
                    header.style.backdropFilter = 'none';
                    header.style.webkitBackdropFilter = 'none';
                } else {
                    if (window.scrollY > 50) {
                        header.style.backdropFilter = 'blur(5px)';
                        header.style.webkitBackdropFilter = 'blur(5px)';
                    } else {
                        header.style.backdropFilter = 'none';
                        header.style.webkitBackdropFilter = 'none';
                    }
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            const contactButton = document.getElementById('contact-button');
            const contactForm = document.getElementById('contact-form');
            const contactFormClose = document.getElementById('contact-form-close');
            const footer = document.getElementById('footer');

            // Hide chat block initially
            contactButton.style.display = 'none';
            contactForm.style.display = 'none';

            // Show/hide chat block based on scroll position
            window.addEventListener('scroll', () => {
                const footerRect = footer.getBoundingClientRect();
                if (footerRect.top < window.innerHeight && footerRect.bottom >= 0) {
                    // User has scrolled to the footer
                    contactButton.style.display = 'none';
                    contactForm.style.display = 'none';
                } else {
                    // User is not at the footer
                    contactButton.style.display = 'block';
                    // Check if the form is open and show it
                    if (contactForm.style.display === 'block') {
                        contactForm.style.display = 'block';
                    }
                }
            });

            // Toggle contact form when the contact button is clicked
            contactButton.addEventListener('click', () => {
                if (contactForm.style.display === 'block') {
                    contactForm.style.display = 'none';
                } else {
                    contactForm.style.display = 'block';
                }
            });

            // Close contact form when the close button is clicked
            contactFormClose.addEventListener('click', () => {
                contactForm.style.display = 'none';
            });

            // Close contact form when clicking outside the form
            window.addEventListener('click', (event) => {
                if (event.target !== contactButton && !contactForm.contains(event.target)) {
                    contactForm.style.display = 'none';
                }
            });
        });

    </script>

    <!-- Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var wow = new WOW({
                boxClass: 'fade', // animated element css class (default is wow)
                animateClass: 'animated', // animation css class (default is animated)
                offset: 0, // distance to the element when triggering the animation (default is 0)
                mobile: true, // trigger animations on mobile devices (default is true)
                live: true // act on asynchronously loaded content (default is true)
            });
            wow.init(); // Initialize WOW.js
        });
    </script>
    <!-- Animations end -->
    {% block js_block %}

    {% endblock %}
</body>

</html>